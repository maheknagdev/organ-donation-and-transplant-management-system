{% extends 'core/base.html' %}
{% block title %}Respond to Allocation{% endblock %}
{% block content %}
<style>
    .back-link { color: #667eea; text-decoration: none; margin-bottom: 20px; display: inline-block; }
    .allocation-info { background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 30px; }
    .btn-group { display: flex; gap: 15px; margin-top: 30px; }
    .btn { padding: 15px 40px; border: none; border-radius: 5px; cursor: pointer; font-size: 1em; font-weight: bold; }
    .btn-accept { background: #28a745; color: white; }
    .btn-accept:hover { background: #218838; }
    .btn-reject { background: #dc3545; color: white; }
    .btn-reject:hover { background: #c82333; }
</style>

<a href="{% url 'core:allocation_list' %}" class="back-link">‚Üê Back to Allocations</a>

<h2>üìã Respond to Allocation #{{ allocation.allocation_id }}</h2>

<div class="allocation-info">
    <h3>Organ Details:</h3>
    <p><strong>Type:</strong> {{ allocation.organ.type_name.type_name }}</p>
    <p><strong>Donor:</strong> {{ allocation.organ.donor.name }}</p>
    <p><strong>Blood Type:</strong> {{ allocation.organ.donor.blood_type }}</p>
    
    <h3 style="margin-top: 20px;">Recipient Details:</h3>
    <p><strong>Name:</strong> {{ allocation.recipient.name }}</p>
    <p><strong>Blood Type:</strong> {{ allocation.recipient.blood_type }}</p>
    <p><strong>Urgency:</strong> Level {{ allocation.recipient.medical_urgency_level }}</p>
    
    <h3 style="margin-top: 20px;">Match Details:</h3>
    <p><strong>Match Score:</strong> {{ allocation.match_score }}</p>
    <p><strong>Allocation Date:</strong> {{ allocation.allocation_date }}</p>
    <p><strong>Response Deadline:</strong> {{ allocation.response_deadline }}</p>
</div>

<form method="post">
    {% csrf_token %}
    
    <div class="btn-group">
        <button type="submit" name="response" value="Accepted" class="btn btn-accept">‚úì Accept Allocation</button>
        <button type="submit" name="response" value="Rejected" class="btn btn-reject">‚úó Reject Allocation</button>
    </div>
</form>
{% endblock %}